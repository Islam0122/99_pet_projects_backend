
# üìò FastAPI + SQLAlchemy Async Example

## üöÄ –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–æ—Å—Ç–æ–µ CRUD-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ **FastAPI**, –∏—Å–ø–æ–ª—å–∑—É—é—â–µ–µ **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π SQLAlchemy** –∏ **Pydantic** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö SQLite.
–ü—Ä–æ–µ–∫—Ç —É–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏–µ–π –∫–Ω–∏–≥ ‚Äî –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å, –ø–æ–ª—É—á–∞—Ç—å, –æ–±–Ω–æ–≤–ª—è—Ç—å –∏ —É–¥–∞–ª—è—Ç—å –∑–∞–ø–∏—Å–∏.

---

## üì¶ –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

* **FastAPI** ‚Äî backend-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
* **SQLAlchemy (async)** ‚Äî ORM
* **Pydantic** ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
* **Uvicorn** ‚Äî —Å–µ—Ä–≤–µ—Ä ASGI
* **SQLite** ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
project/
‚îú‚îÄ‚îÄ main.py        # –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ db.sqlite      # –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îî‚îÄ‚îÄ note.md        # –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
```

---


## üóÉÔ∏è –ú–∞—Ä—à—Ä—É—Ç—ã API

| –ú–µ—Ç–æ–¥      | –ü—É—Ç—å          | –û–ø–∏—Å–∞–Ω–∏–µ                          |
| ---------- | ------------- | --------------------------------- |
| **POST**   | `/setup_db`   | –°–æ–∑–¥–∞–Ω–∏–µ/–ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –≤ –ë–î |
| **POST**   | `/books`      | –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–Ω–∏–≥—É              |
| **GET**    | `/books`      | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–Ω–∏–≥         |
| **GET**    | `/books/{id}` | –ü–æ–ª—É—á–∏—Ç—å –∫–Ω–∏–≥—É –ø–æ ID              |
| **PUT**    | `/books/{id}` | –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–Ω–æ–≤–∏—Ç—å –∫–Ω–∏–≥—É          |
| **PATCH**  | `/books/{id}` | –ß–∞—Å—Ç–∏—á–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –∫–Ω–∏–≥—É           |
| **DELETE** | `/books/{id}` | –£–¥–∞–ª–∏—Ç—å –∫–Ω–∏–≥—É                     |

---

## üß© –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É

```json
POST /books
{
  "title": "Atomic Habits",
  "author": "James Clear"
}
```

### –û—Ç–≤–µ—Ç

```json
{
  "id": 1,
  "title": "Atomic Habits",
  "author": "James Clear"
}
```

---

## üß† –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –¥–≤–∏–∂–æ–∫ SQLAlchemy** (`sqlite+aiosqlite`).
* `orm_mode = True` –≤ Pydantic –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å ORM-–æ–±—ä–µ–∫—Ç—ã –Ω–∞–ø—Ä—è–º—É—é.
* –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –º–æ–¥–µ–ª–∏ –º–æ–∂–Ω–æ –∑–∞–Ω–æ–≤–æ –≤—ã–∑–≤–∞—Ç—å `/setup_db`.

---
\