# üê≥ Docker

## –ß—Ç–æ —Ç–∞–∫–æ–µ Docker

**Docker** ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —É–ø–∞–∫–æ–≤–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å–æ –≤—Å–µ–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –≤ **–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä**, —á—Ç–æ–±—ã –æ–Ω–æ –æ–¥–∏–Ω–∞–∫–æ–≤–æ —Ä–∞–±–æ—Ç–∞–ª–æ –≤–µ–∑–¥–µ: –Ω–∞ —Ç–≤–æ—ë–º –ü–ö, —Å–µ—Ä–≤–µ—Ä–µ, CI/CD.

**–ó–∞—á–µ–º –Ω—É–∂–µ–Ω:**

* –æ–¥–∏–Ω–∞–∫–æ–≤–∞—è —Å—Ä–µ–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
* –±—ã—Å—Ç—Ä–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
* –º–µ–Ω—å—à–µ "—É –º–µ–Ω—è —Ä–∞–±–æ—Ç–∞–µ—Ç, —É —Ç–µ–±—è –Ω–µ—Ç"

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–Ω—è—Ç–∏—è

### üì¶ Image (–æ–±—Ä–∞–∑)

–®–∞–±–ª–æ–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. **Read-only**.
–ü—Ä–∏–º–µ—Ä: `python:3.12-slim`

### ‚ñ∂Ô∏è Container (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä)

–ó–∞–ø—É—â–µ–Ω–Ω—ã–π image.

> Image ‚Äî —ç—Ç–æ —á–µ—Ä—Ç—ë–∂, Container ‚Äî –¥–æ–º

### üß± Dockerfile

–§–∞–π–ª —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏, –∫–∞–∫ —Å–æ–±—Ä–∞—Ç—å image.

### üóÇ Volume

–•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö **–≤–Ω–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞** (–ë–î, —Ñ–∞–π–ª—ã).

### üåê Network

–°–≤—è–∑—å –º–µ–∂–¥—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏.

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker

* Linux: `apt install docker.io`
* macOS / Windows: **Docker Desktop**

–ü—Ä–æ–≤–µ—Ä–∫–∞:

```bash
docker --version
docker run hello-world
```

---

## Dockerfile ‚Äî –±–∞–∑–∞

```dockerfile
FROM python:3.12-slim

WORKDIR /app

COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY . .

CMD ["python", "main.py"]
```

**–ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:**

* `FROM` ‚Äî –±–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑
* `WORKDIR` ‚Äî —Ä–∞–±–æ—á–∞—è –ø–∞–ø–∫–∞
* `COPY` ‚Äî –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
* `RUN` ‚Äî –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ
* `CMD` ‚Äî –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

---

## –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
# —Å–æ–±—Ä–∞—Ç—å image
docker build -t myapp .

# –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker run -p 8000:8000 myapp
```

---

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã Docker

```bash
docker ps            # –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker ps -a         # –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker images        # –æ–±—Ä–∞–∑—ã
docker stop <id>     # –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
docker rm <id>       # —É–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker rmi <image>  # —É–¥–∞–ª–∏—Ç—å image
```

---

## Volumes (–¥–∞–Ω–Ω—ã–µ)

```bash
docker run -v data:/app/data myapp
```

–ò–ª–∏ –≤ Dockerfile –Ω–∏—á–µ–≥–æ –Ω–µ –º–µ–Ω—è–µ–º ‚Äî volume –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ.

---

## Docker Compose (–Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–∏—Å–æ–≤)

`docker-compose.yml`

```yaml
version: '3.9'

services:
  web:
    build: .
    ports:
      - "8000:8000"
    volumes:
      - .:/app
    depends_on:
      - db

  db:
    image: postgres:16
    environment:
      POSTGRES_USER: admin
      POSTGRES_PASSWORD: admin
      POSTGRES_DB: app_db
    volumes:
      - pgdata:/var/lib/postgresql/data

volumes:
  pgdata:
```

–ó–∞–ø—É—Å–∫:

```bash
docker-compose up --build
```

---

## –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

* ‚ùå –∑–∞–±—ã–ª–∏ `COPY requirements.txt`
* ‚ùå –Ω–µ –æ—Ç–∫—Ä—ã—Ç –ø–æ—Ä—Ç (`-p`)
* ‚ùå –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–ø–∞–ª–∏ ‚Üí –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª volume

---

## Best Practices

* –∏—Å–ø–æ–ª—å–∑—É–π `slim` –æ–±—Ä–∞–∑—ã
* –æ–¥–∏–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä = –æ–¥–∏–Ω —Å–µ—Ä–≤–∏—Å
* –Ω–µ —Ö—Ä–∞–Ω–∏ —Å–µ–∫—Ä–µ—Ç—ã –≤ Dockerfile
* –¥–æ–±–∞–≤–ª—è–π `.dockerignore`

---

## .dockerignore (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

```text
__pycache__
.env
.git
node_modules
```

